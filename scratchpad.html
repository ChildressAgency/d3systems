

<div class="staff-details">
  <div class="container">
    <span class="staff-details-close"></span>
    <h3 class="staff-name"></h3>
    <h3 class="staff-title"></h3>
    <div class="row">
      <div class="col-sm-6">
        <div class="staff-bio"></div>
      </div>
      <div class="col-sm-6">
        <div class="row">
          <div class="col-sm-12 col-md-6">
            <p class="staff-profile-label staff-team">Team:<span></span></p>
            <p class="staff-profile-label staff-yearsexp">Years of Experience:<span></span></p>
            <p class="staff-profile-label staff-languages">Languages:<span></span></p>
          </div>
          <div class="col-sm-12 col-md-6 border-left">
            <p class="staff-profile-label staff-countryexp">Country Expertise:<span></span></p>
            <p class="staff-profile-label staff-degrees">Degrees:<span></span></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="og-expander" style="transition: height 350ms ease; height: 729px;">
  <div class="og-expander-inner">
    <span class="og-close"></span>
    <div class="og-fullimg">
      <div class="og-loading" style="display: none;"></div>
      <img src="images/2.jpg" style="display: inline;">
    </div>
    <div class="og-details">
      <h3>Veggies sunt bona vobis</h3>
      <p>Komatsuna prairie turnip wattle seed artichoke mustard horseradish taro rutabaga ricebean carrot black-eyed pea turnip
        greens beetroot yarrow watercress kombu.</p>
      <a href="http://cargocollective.com/jaimemartinez/">Visit website</a>
    </div>
  </div>
</div>


<script>
      this.$staff_team = $('<p class="staff-profile-label staff-team">Team:<span></span></p>');
      this.$staff_yearsexp = $('<p class="staff-profile-label staff-yearsexp">Years of Experience:<span></span></p>');
      this.$staff_languages = $('<p class="staff-profile-label staff-languages">Languages:<span></span></p>');
      this.$staff_details_col_one = $('<div class="col-sm-12 col-md-6"></div>').append(this.$staff_team, this.$staff_yearsexp, this.$staff_languages);

      this.$staff_countryexp = $('<p class="staff-profile-label staff-countryexp">Country Expertise:<span></span></p>');
      this.$staff_degrees = $('<p class="staff-profile-label staff-degrees">Degrees:<span></span></p>');
      this.$staff_details_col_two = $('<div class="col-sm-12 col-md-6"></div>').append(this.$staff_countryexp, this.$staff_degrees);

      this.$staff_details_row = $('<div class="row"></div>').append(this.$staff_details_col_one, this.$staff_details_col_two);
      this.$staff_details_col = $('<div class="col-sm-6"></div>').append(this.$staff_details_row);

      this.$staff_bio = $('<div class="staff-bio"></div>');
      this.$staff_bio_col = $('<div class="col-sm-6"></div>').append(this.$staff_bio);
      
      this.$staff_bio_details_row = $('<div class="row"></div>').append(this.$staff_bio_col, this.$staff_details_col);

      this.$staff_name = $('<h3 class="staff-name"></h3>');
      this.$staff_title = $('<h3 class="staff-title"></h3>');
      this.$staff_close_details = $('<span class="staff-details-close"></span>');
      
      this.$staff_details_container = $('<div class="container"></div>').append(this.$staff_close_details, this.$staff_name, this.$staff_title, this.$staff_bio_details_row);
      this.staff_details = $('<div class="staff-details"></div>').append(this.$staff_details_container);



//////////////////////////////////////

/*
* debouncedresize: special jQuery event that happens once after a window resize
*
* latest version and complete README available on Github:
* https://github.com/louisremi/jquery-smartresize/blob/master/jquery.debouncedresize.js
*
* Copyright 2011 @louis_remi
* Licensed under the MIT license.
*/
var $event = $.event,
  $special,
  resizeTimeout;

$special = $event.special.debouncedresize = {
  setup: function () {
    $(this).on("resize", $special.handler);
  },
  teardown: function () {
    $(this).off("resize", $special.handler);
  },
  handler: function (event, execAsap) {
    // Save the context
    var context = this,
      args = arguments,
      dispatch = function () {
        // set correct event type
        event.type = "debouncedresize";
        $event.dispatch.apply(context, args);
      };

    if (resizeTimeout) {
      clearTimeout(resizeTimeout);
    }

    execAsap ?
      dispatch() :
      resizeTimeout = setTimeout(dispatch, $special.threshold);
  },
  threshold: 250
};

// ======================= imagesLoaded Plugin ===============================
// https://github.com/desandro/imagesloaded

// $('#my-container').imagesLoaded(myFunction)
// execute a callback when all images have loaded.
// needed because .load() doesn't work on cached images

// callback function gets image collection as argument
//  this is the container

// original: MIT license. Paul Irish. 2010.
// contributors: Oren Solomianik, David DeSandro, Yiannis Chatzikonstantinou

// blank image data-uri bypasses webkit log warning (thx doug jones)
var BLANK = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';

$.fn.imagesLoaded = function (callback) {
  var $this = this,
    deferred = $.isFunction($.Deferred) ? $.Deferred() : 0,
    hasNotify = $.isFunction(deferred.notify),
    $images = $this.find('img').add($this.filter('img')),
    loaded = [],
    proper = [],
    broken = [];

  // Register deferred callbacks
  if ($.isPlainObject(callback)) {
    $.each(callback, function (key, value) {
      if (key === 'callback') {
        callback = value;
      } else if (deferred) {
        deferred[key](value);
      }
    });
  }

  function doneLoading() {
    var $proper = $(proper),
      $broken = $(broken);

    if (deferred) {
      if (broken.length) {
        deferred.reject($images, $proper, $broken);
      } else {
        deferred.resolve($images);
      }
    }

    if ($.isFunction(callback)) {
      callback.call($this, $images, $proper, $broken);
    }
  }

  function imgLoaded(img, isBroken) {
    // don't proceed if BLANK image, or image is already loaded
    if (img.src === BLANK || $.inArray(img, loaded) !== -1) {
      return;
    }

    // store element in loaded images array
    loaded.push(img);

    // keep track of broken and properly loaded images
    if (isBroken) {
      broken.push(img);
    } else {
      proper.push(img);
    }

    // cache image and its state for future calls
    $.data(img, 'imagesLoaded', { isBroken: isBroken, src: img.src });

    // trigger deferred progress method if present
    if (hasNotify) {
      deferred.notifyWith($(img), [isBroken, $images, $(proper), $(broken)]);
    }

    // call doneLoading and clean listeners if all images are loaded
    if ($images.length === loaded.length) {
      setTimeout(doneLoading);
      $images.unbind('.imagesLoaded');
    }
  }

  // if no images, trigger immediately
  if (!$images.length) {
    doneLoading();
  } else {
    $images.bind('load.imagesLoaded error.imagesLoaded', function (event) {
      // trigger imgLoaded
      imgLoaded(event.target, event.type === 'error');
    }).each(function (i, el) {
      var src = el.src;

      // find out if this image has been already checked for status
      // if it was, and src has not changed, call imgLoaded on it
      var cached = $.data(el, 'imagesLoaded');
      if (cached && cached.src === src) {
        imgLoaded(el, cached.isBroken);
        return;
      }

      // if complete is true and browser supports natural sizes, try
      // to check for image status manually
      if (el.complete && el.naturalWidth !== undefined) {
        imgLoaded(el, el.naturalWidth === 0 || el.naturalHeight === 0);
        return;
      }

      // cached images don't fire load sometimes, so we reset src, but only when
      // dealing with IE, or image is complete (loaded) and failed manual check
      // webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f
      if (el.readyState || el.complete) {
        el.src = BLANK;
        el.src = src;
      }
    });
  }

  return deferred ? deferred.promise($this) : $this;
};

var Grid = (function () {

  // list of items
  var $grid = $('#grid'),
    // the items
    $items = $grid.children('.grid-item'),
    // current expanded item's index
    current = -1,
    // position (top) of the expanded item
    // used to know if the preview will expand in a different row
    previewPos = -1,
    // extra amount of pixels to scroll the window
    scrollExtra = 0,
    // extra margin when expanded (between preview overlay and the next items)
    marginExpanded = 10,
    $window = $(window), winsize,
    $body = $('html, body'),
    // transitionend events
    transEndEventNames = {
      'WebkitTransition': 'webkitTransitionEnd',
      'MozTransition': 'transitionend',
      'OTransition': 'oTransitionEnd',
      'msTransition': 'MSTransitionEnd',
      'transition': 'transitionend'
    },
    transEndEventName = transEndEventNames[Modernizr.prefixed('transition')],
    // support for csstransitions
    support = Modernizr.csstransitions,
    // default settings
    settings = {
      minHeight: 500,
      speed: 350,
      easing: 'ease'
    };
    

  function init(config) {
    
    $($grid).find('.management').css('background-color', '#f00');
    // the settings..
    settings = $.extend(true, {}, settings, config);

    // preload all images
    $grid.imagesLoaded(function () {

      // save item´s size and offset
      saveItemInfo(true);
      // get window´s size
      getWinSize();
      // initialize some events
      initEvents();

    });

  }

  // add more items to the grid.
  // the new items need to appended to the grid.
  // after that call Grid.addItems(theItems);
  function addItems($newitems) {

    $items = $items.add($newitems);

    $newitems.each(function () {
      var $item = $(this);
      $item.data({
        offsetTop: $item.offset().top,
        height: $item.height()
      });
    });

    initItemsEvents($newitems);

  }

  // saves the item´s offset top and height (if saveheight is true)
  function saveItemInfo(saveheight) {
    $items.each(function () {
      var $item = $(this);
      $item.data('offsetTop', $item.offset().top);
      if (saveheight) {
        $item.data('height', $item.height());
      }
    });
  }

  function initEvents() {
    
    // when clicking an item, show the preview with the item´s info and large image.
    // close the item if already expanded.
    // also close if clicking on the item´s cross
    initItemsEvents($items);

    // on window resize get the window´s size again
    // reset some values..
    $window.on('debouncedresize', function () {

      scrollExtra = 0;
      previewPos = -1;
      // save item´s offset
      saveItemInfo();
      getWinSize();
      var preview = $.data(this, 'preview');
      if (typeof preview != 'undefined') {
        hidePreview();
      }

    });

  }

  function initItemsEvents($items) {
    
    /*$items.on('click', 'span.staff-details-close', function () {
      //e.preventDefault();
      hidePreview();
      return false;
    }).children('.grid-item-content').on('click', function (e) {
      
      var $item = $(this).parent();
      //console.log($item);
      // check if item already opened
      current === $item.index() ? hidePreview() : showPreview($item);
      return false;

    });*/
    $items.children('.grid').css('background-color', 'red');
   
  }

  function getWinSize() {
    winsize = { width: $window.width(), height: $window.height() };
  }

  function showPreview($item) {

    var preview = $.data(this, 'preview'),
      // item´s offset top
      position = $item.data('offsetTop');

    scrollExtra = 0;

    // if a preview exists and previewPos is different (different row) from item´s top then close it
    if (typeof preview != 'undefined') {

      // not in the same row
      if (previewPos !== position) {
        // if position > previewPos then we need to take te current preview´s height in consideration when scrolling the window
        if (position > previewPos) {
          scrollExtra = preview.height;
        }
        hidePreview();
      }
      // same row
      else {
        preview.update($item);
        return false;
      }

    }

    // update previewPos
    previewPos = position;
    // initialize new preview for the clicked item
    preview = $.data(this, 'preview', new Preview($item));
    // expand preview overlay
    preview.open();

  }

  function hidePreview() {
    current = -1;
    var preview = $.data(this, 'preview');
    preview.close();
    $.removeData(this, 'preview');
  }

  // the preview obj / overlay
  function Preview($item) {
    this.$item = $item;
    this.expandedIdx = this.$item.index();
    this.create();
    this.update();
  }

  Preview.prototype = {
    /*create: function () {
      // create Preview structure:
      
      this.$title = $('<h3></h3>');
      this.$description = $('<p></p>');
      this.$href = $('<a href="#">Visit website</a>');
      this.$details = $('<div class="og-details"></div>').append(this.$title, this.$description, this.$href);
      this.$loading = $('<div class="og-loading"></div>');
      this.$fullimage = $('<div class="og-fullimg"></div>').append(this.$loading);
      this.$closePreview = $('<span class="og-close"></span>');
      this.$previewInner = $('<div class="og-expander-inner"></div>').append(this.$closePreview, this.$fullimage, this.$details);
      this.$previewEl = $('<div class="og-expander"></div>').append(this.$previewInner);
      // append preview element to the item
      this.$item.append(this.getEl());
      // set the transitions for the preview and the item
      if (support) {
        this.setTransition();
      }
    },*/

    create: function(){
      this.$staff_team = $('<p class="staff-profile-label staff-team"></p>');
      this.$staff_yearsexp = $('<p class="staff-profile-label staff-yearsexp"></p>');
      this.$staff_languages = $('<p class="staff-profile-label staff-languages"></p>');
      this.$staff_details_col_one = $('<div class="col-sm-12 col-md-6"></div>').append(this.$staff_team, this.$staff_yearsexp, this.$staff_languages);

      this.$staff_countryexp = $('<p class="staff-profile-label staff-countryexp"></p>');
      this.$staff_degrees = $('<p class="staff-profile-label staff-degrees"></p>');
      this.$staff_details_col_two = $('<div class="col-sm-12 col-md-6"></div>').append(this.$staff_countryexp, this.$staff_degrees);

      this.$staff_details_row = $('<div class="row"></div>').append(this.$staff_details_col_one, this.$staff_details_col_two);
      this.$staff_details_col = $('<div class="col-sm-6"></div>').append(this.$staff_details_row);

      this.$staff_bio = $('<div class="staff-bio"></div>');
      this.$staff_bio_col = $('<div class="col-sm-6"></div>').append(this.$staff_bio);
      
      this.$staff_bio_details_row = $('<div class="row"></div>').append(this.$staff_bio_col, this.$staff_details_col);

      this.$staff_name = $('<h3 class="staff-name"></h3>');
      this.$staff_title = $('<h3 class="staff-title"></h3>');
      this.$staff_close_details = $('<span class="staff-details-close"></span>');
      
      this.$staff_details_container = $('<div class="container"></div>').append(this.$staff_close_details, this.$staff_name, this.$staff_title, this.$staff_bio_details_row);
      this.staff_details = $('<div class="staff-details"></div>').append(this.$staff_details_container);

      this.$item.append(this.getEl());
      if(support){
        this.setTransition();
      }
    },
    update: function ($item) {

      if ($item) {
        this.$item = $item;
      }

      // if already expanded remove class "og-expanded" from current item and add it to new item
      if (current !== -1) {
        var $currentItem = $items.eq(current);
        $currentItem.removeClass('staff-details-expanded');
        this.$item.addClass('staff-details-expanded');
        // position the preview correctly
        this.positionPreview();
      }

      // update current value
      current = this.$item.index();

      // update preview´s content
      var $itemEl = this.$item.children('a'),
        eldata = {
          //href: $itemEl.attr('href'),
          //largesrc: $itemEl.data('largesrc'),
          //title: $itemEl.data('title'),
          //description: $itemEl.data('description')
          staff_name: $itemEl.data('staff_name'),
          staff_title: $itemEl.data('staff_title'),
          staff_bio: $itemEl.data('staff_bio'),
          staff_team: $itemEl.data('staff_team'),
          staff_yearsexp: $itemEl.data('staff_yearsexp'),
          staff_degrees: $itemEl.data('staff_degrees'),
          staff_languages: $itemEl.data('staff_languages'),
          staff_countryexp: $itemEl.data('staff_countryexp')
        };

      //this.$title.html(eldata.title);
      //this.$description.html(eldata.description);
      //this.$href.attr('href', eldata.href);

      this.$staff_team.html('Team:<span>' + eldata.staff_team + '</span>');
      this.$staff_yearsexp.html('Years of Experience:<span>' + eldata.staff_yearsexp + '</span>');
      this.$staff_languages.html('Languages:<span>' + eldata.staff_languages + '</span>');
      this.$staff_countryexp.html('Country Expertise:<span>' + eldata.staff_countryexp + '</span>');
      this.$staff_degrees.html('Degrees:<span>' + eldata.staff_degrees + '</span>');
      this.$staff_bio.html(eldata.staff_bio);
      this.$staff_name.html(eldata.staff_name);
      this.$staff_title.html(eldata.staff_title);

      var self = this;

      // remove the current image in the preview
      //if (typeof self.$largeImg != 'undefined') {
      //  self.$largeImg.remove();
      //}

      // preload large image and add it to the preview
      // for smaller screens we don´t display the large image (the media query will hide the fullimage wrapper)
      /*if (self.$fullimage.is(':visible')) {
        this.$loading.show();
        $('<img/>').load(function () {
          var $img = $(this);
          if ($img.attr('src') === self.$item.children('a').data('largesrc')) {
            self.$loading.hide();
            self.$fullimage.find('img').remove();
            self.$largeImg = $img.fadeIn(350);
            self.$fullimage.append(self.$largeImg);
          }
        }).attr('src', eldata.largesrc);
      }*/

    },
    open: function () {

      setTimeout($.proxy(function () {
        // set the height for the preview and the item
        this.setHeights();
        // scroll to position the preview in the right place
        this.positionPreview();
      }, this), 25);

    },
    close: function () {

      var self = this,
        onEndFn = function () {
          if (support) {
            $(this).off(transEndEventName);
          }
          self.$item.removeClass('staff-details-expanded');
          self.$staff_details.remove();
        };

      setTimeout($.proxy(function () {

        if (typeof this.$largeImg !== 'undefined') {
          this.$largeImg.fadeOut('fast');
        }
        this.$staff_details.css('height', 0);
        // the current expanded item (might be different from this.$item)
        var $expandedItem = $items.eq(this.expandedIdx);
        $expandedItem.css('height', $expandedItem.data('height')).on(transEndEventName, onEndFn);

        if (!support) {
          onEndFn.call();
        }

      }, this), 25);

      return false;

    },
    calcHeight: function () {

      var heightPreview = winsize.height - this.$item.data('height') - marginExpanded,
        itemHeight = winsize.height;

      if (heightPreview < settings.minHeight) {
        heightPreview = settings.minHeight;
        itemHeight = settings.minHeight + this.$item.data('height') + marginExpanded;
      }

      this.height = heightPreview;
      this.itemHeight = itemHeight;

    },
    setHeights: function () {

      var self = this,
        onEndFn = function () {
          if (support) {
            self.$item.off(transEndEventName);
          }
          self.$item.addClass('staff-details-expanded');
        };

      this.calcHeight();
      this.$staff_details.css('height', this.height);
      this.$item.css('height', this.itemHeight).on(transEndEventName, onEndFn);

      if (!support) {
        onEndFn.call();
      }

    },
    positionPreview: function () {

      // scroll page
      // case 1 : preview height + item height fits in window´s height
      // case 2 : preview height + item height does not fit in window´s height and preview height is smaller than window´s height
      // case 3 : preview height + item height does not fit in window´s height and preview height is bigger than window´s height
      var position = this.$item.data('offsetTop'),
        previewOffsetT = this.$staff_details.offset().top - scrollExtra,
        scrollVal = this.height + this.$item.data('height') + marginExpanded <= winsize.height ? position : this.height < winsize.height ? previewOffsetT - (winsize.height - this.height) : previewOffsetT;

      $body.animate({ scrollTop: scrollVal }, settings.speed);

    },
    setTransition: function () {
      this.$staff_details.css('transition', 'height ' + settings.speed + 'ms ' + settings.easing);
      this.$item.css('transition', 'height ' + settings.speed + 'ms ' + settings.easing);
    },
    getEl: function () {
      return this.$staff_details;
    }
  }

  return {
    init: init,
    addItems: addItems
  };

})();


/////////////

        <div id="staff-details" class="staff-details">
          <div class="container">
            <span class="staff-details-close"></span>
            <h3 class="staff-name"></h3>
            <h3 class="staff-title"></h3>
            <div class="row">
              <div class="col-sm-6">
                <div class="staff-bio"></div>
              </div>
              <div class="col-sm-6">
                <div class="row">
                  <div class="col-sm-12 col-md-6">
                    <p class="staff-profile-label staff-team">Team:<span></span></p>
                    <p class="staff-profile-label staff-yearsexp">Years of Experience:<span></span></p>
                    <p class="staff-profile-label staff-languages">Languages:<span></span></p>
                  </div>
                  <div class="col-sm-12 col-md-6 border-left">
                    <p class="staff-profile-label staff-countryexp">Country Expertise:<span></span></p>
                    <p class="staff-profile-label staff-degrees">Degrees:<span></span></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      

      <svg id="_Group_5" data-name="&lt;Group&gt;" xmlns="http://www.w3.org/2000/svg" xmlns: xlink="http://www.w3.org/1999/xlink" width="1282" height="577" viewBox="0 0 1282 577">
            <metadata><?xpacket begin="﻿" id="W5M0MpCehiHzreSzNTczkc9d"?>
<x: xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.6-c142 79.160924, 2017/07/13-01:06:39        ">
   <rdf: RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
      <rdf: Description rdf:about=""/>
   </rdf: RDF>
</x: xmpmeta >
<? xpacket end = "w" ?></metadata >
          <circle cx="686" cy="342" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".25s" />
          </circle>
          <circle cx="686" cy="342" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".75s" />
          </circle>
          <circle cx="686" cy="342" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="1.25s" />
          </circle>
          <circle cx="686" cy="342" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="2s" />
          </circle>
          <image id="_Group_" data-name="&lt;Group&gt;" x="686" y="342" width="6" height="6" xlink: href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGBAMAAAAS4vJ7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEX////XGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRwAAACwhU4rAAAADHRSTlMAYHAg0PAwQLBQEIAzo2vfAAAAAWJLR0QN9rRh9QAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+IECw8KGSABNp8AAAAdSURBVAjXY2AQMmBgORPGUHPmBBiznDnJwKVdAABUiwfHvh2e6QAAAABJRU5ErkJggg==" />
          <circle cx="928" cy="322" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".25s" />
          </circle>
          <circle cx="928" cy="322" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".75s" />
          </circle>
          <circle cx="928" cy="322" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="1.25s" />
          </circle>
          <circle cx="928" cy="322" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="2s" />
          </circle>
          <image id="_Group_2" data-name="&lt;Group&gt;" x="928" y="322" width="6" height="6" xlink: href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGBAMAAAAS4vJ7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEX////XGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRwAAABAdVTEAAAADXRSTlMAEIAw4ECgkNDwYHAg5DFf2AAAAAFiS0dEDm+9ME8AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfiBAsPChkgATafAAAAH0lEQVQI12NgVDJgELl7lSH27jUgvs7AcXcyA+PqAwBhKwkfCeSOVQAAAABJRU5ErkJggg==" />
          <circle cx="782" cy="194" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".25s" />
          </circle>
          <circle cx="782" cy="194" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".75s" />
          </circle>
          <circle cx="782" cy="194" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="1.25s" />
          </circle>
          <circle cx="782" cy="194" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="2s" />
          </circle>
          <image id="_Group_3" data-name="&lt;Group&gt;" x="782" y="194" width="6" height="5" xlink: href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFBAMAAACUdoDVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEX////XGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRwAAACwhU4rAAAADHRSTlMAkMAQMHBAsCBg4PCP5UHiAAAAAWJLR0QN9rRh9QAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+IECw8KGSABNp8AAAAdSURBVAjXY2A8o8zgc+YoQ86Z4ww9Z04ycK4WAABMFAeyX+OVdAAAAABJRU5ErkJggg==" />
          <circle cx="604" cy="152" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".25s" />
          </circle>
          <circle cx="604" cy="152" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin=".75s" />
          </circle>
          <circle cx="604" cy="152" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="1.25s" />
          </circle>
          <circle cx="604" cy="152" r="0" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            <animate attributeName="r" from="0" to="140" dur="3s" repeatCount="indefinite" begin="2s" />
          </circle>
          <image id="_Group_4" data-name="&lt;Group&gt;" x="604" y="152" width="6" height="5" xlink: href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFBAMAAACUdoDVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEX////XGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRwAAACit0P7AAAAC3RSTlMAELDQMKDwwEAgYN9lU0sAAAABYktHRAyBs1FjAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4gQLDwoZIAE2nwAAABtJREFUCNdjENrswBC9O4GhevcOBm0gPXnbAgBE8geZVsm4HgAAAABJRU5ErkJggg==" />
          <!--< rect x = "245" y = "159" width = "50" height = "50" rx = "50" ry = "50" style = "fill:none;stroke:red;stroke-width:2;" /> -->
            <circle class="css-animate" cx="270" cy="184" r="3" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            </circle>
            <circle class="css-animate" cx="270" cy="184" r="3" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            </circle>
            <circle class="css-animate" cx="270" cy="184" r="3" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            </circle>
            <circle class="css-animate" cx="270" cy="184" r="3" fill-opacity="0" stroke="#f5c5c6" stroke-width="1px">
            </circle>
            <image id="_Group_6" data-name="&lt;Group&gt;" x="270" y="184" width="6" height="6" xlink: href="data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGBAMAAAAS4vJ7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX////XGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRzXGRwAAACsINwvAAAACnRSTlMAgMAw8BBAoCDQ43mH8gAAAAFiS0dECx/XxMAAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfiBAsPChkgATafAAAAIElEQVQI12NgVDJgkFrlyqC1ahlD1aoVDJGrBBgYTBkARqEF60e43oIAAAAASUVORK5CYII=" />
</svg >
      
///////////////////////////////////


  !function (a) { 
    "use strict"; 
    a(function () { 
      var b = a(window), c = a(document.body); 
      c.scrollspy({ 
        target: ".bs-docs-sidebar" }),
        b.on("load", function () { 
          c.scrollspy("refresh") }), 
          a('.bs-docs-container [href="#"]').click(function (a) { 
            a.preventDefault() }), 
            setTimeout(function () {
              var b = a(".bs-docs-sidebar"); 
              b.affix({ 
                offset: { 
                  top: function () { 
                    var c = b.offset().top, 
                    d = parseInt(b.children(0).css("margin-top"), 10), 
                    e = a(".bs-docs-nav").height(); 
                    return this.top = c - e - d 
                  }, 
                  bottom: function () { 
                    return this.bottom = a(".bs-docs-footer").outerHeight(!0) 
                  } 
                } 
              }) 
            }, 100), 
            setTimeout(function () { a(".bs-top").affix() }, 100), function () { var b = a("#bs-theme-stylesheet"), c = a(".bs-docs-theme-toggle"), d = function () { b.attr("href", b.attr("data-href")), c.text("Disable theme preview"), localStorage.setItem("previewTheme", !0) }; localStorage.getItem("previewTheme") && d(), c.click(function () { var a = b.attr("href"); a && 0 !== a.indexOf("data") ? (b.attr("href", ""), c.text("Preview theme"), localStorage.removeItem("previewTheme")) : d() }) }(), a(".tooltip-demo").tooltip({ selector: '[data-toggle="tooltip"]', container: "body" }), a(".popover-demo").popover({ selector: '[data-toggle="popover"]', container: "body" }), a(".tooltip-test").tooltip(), a(".popover-test").popover(), a(".bs-docs-popover").popover(), a("#loading-example-btn").on("click", function () { var b = a(this); b.button("loading"), setTimeout(function () { b.button("reset") }, 3e3) }), a("#exampleModal").on("show.bs.modal", function (b) { var c = a(b.relatedTarget), d = c.data("whatever"), e = a(this); e.find(".modal-title").text("New message to " + d), e.find(".modal-body input").val(d) }), a(".bs-docs-activate-animated-progressbar").on("click", function () { a(this).siblings(".progress").find(".progress-bar-striped").toggleClass("active") }), ZeroClipboard.config({ moviePath: "/assets/flash/ZeroClipboard.swf", hoverClass: "btn-clipboard-hover" }), a(".highlight").each(function () { var b = '<div class="zero-clipboard"><span class="btn-clipboard">Copy</span></div>'; a(this).before(b) }); var d = new ZeroClipboard(a(".btn-clipboard")), e = a("#global-zeroclipboard-html-bridge"); d.on("load", function () { e.data("placement", "top").attr("title", "Copy to clipboard").tooltip(), d.on("dataRequested", function (b) { var c = a(this).parent().nextAll(".highlight").first(); b.setText(c.text()) }), d.on("complete", function () { e.attr("title", "Copied!").tooltip("fixTitle").tooltip("show").attr("title", "Copy to clipboard").tooltip("fixTitle") }) }), d.on("noflash wrongflash", function () { a(".zero-clipboard").remove(), ZeroClipboard.destroy() }) }) }(jQuery), function () { "use strict"; anchors.options.placement = "left", anchors.add(".bs-docs-section > h1, .bs-docs-section > h2, .bs-docs-section > h3, .bs-docs-section > h4, .bs-docs-section > h5") }();


//from single post sidebar upper
                      <div class="post-card">
                        <?php
                          $sidebar_topic_categories = get_the_terms(get_the_ID(), 'category');
                          $cur_sidebar_topic_category = $sidebar_topic_categories[0];
                          $acf_sidebar_topic_category_id = 'category_' . $cur_sidebar_topic_category->term_id;
                          $sidebar_topic_category_color = '#f7d2d4';
  
                        if(get_field('category_color', $acf_sidebar_topic_category_id)){
                          $sidebar_topic_category_color = get_field('category_color', $acf_sidebar_topic_category_id);
                        }

                        $sidebar_topic_image_url = wp_get_attachment_url(get_post_thumbnail_id());
                      ?>
                      <h3 class="post-card-category" style="background-color:<?php echo $sidebar_topic_category_color; ?>;"><?php echo $cur_sidebar_topic_category->name; ?></h3>
                        <div class="post-card-thumb">
                          <img src="<?php echo $sidebar_topic_image_url; ?>" class="img-responsive center-block" alt="" />
                          <h2 class="post-card-thumb-caption">
                            <span class="summary-card-title-part"><?php the_field('post_pre_title'); ?></span>
                            <span class="summary-card-title-main"><?php the_field('post_main_title'); ?></span>
                            <span class="summary-card-title-part"><?php the_field('post_sub_title'); ?></span>
                          </h2>
                          <div class="post-caption-overlay"></div>
                        </div>
                        <div class="post-card-content">
                          <h4 class="post-date"><?php echo get_the_date('M\. j, Y'); ?></h4>
                          <hr style="border-color:<?php echo $sidebar_topic_category_color; ?>;" />
                          <?php the_excerpt(); ?>
                        <a href="<?php the_permalink(); ?>" class="post-read-more">Read More</a>
                        </div>
                      </div>
                    

//from single post sidebar lower
                        <div class="post-card">
                          <?php
                            $sidebar_country_categories = get_the_terms(get_the_ID(), 'category');
                            $cur_sidebar_country_category = $sidebar_country_categories[0];
                            $acf_sidebar_country_category_id = 'category_' . $cur_sidebar_country_category->term_id;
                            $sidebar_country_category_color = '#f7d2d4';
    
                        if(get_field('category_color', $acf_sidebar_country_category_id)){
                            $sidebar_country_category_color = get_field('category_color', $acf_sidebar_country_category_id);
                          }
  
                          $sidebar_country_image_url = wp_get_attachment_url(get_post_thumbnail_id());
                        ?>
                      <h3 class="post-card-category" style="background-color:#<?php echo $sidebar_country_category_color; ?>;"><?php echo $cur_sidebar_country_category->name; ?></h3>
                          <div class="post-card-thumb">
                            <img src="<?php echo $sidebar_country_image_url; ?>" class="img-responsive center-block" alt="" />
                            <h2 class="post-card-thumb-caption">
                              <span class="summary-card-title-part"><?php the_field('post_pre_title');?></span>
                              <span class="summary-card-title-main"><?php the_field('post_main_title'); ?></span>
                              <span class="summary-card-title-part"><?php the_field('post-sub-title'); ?></span>
                            </h2>
                            <div class="post-caption-overlay"></div>
                          </div>
                          <div class="post-card-content">
                            <h4 class="post-date"><?php echo get_the_date('M\. j, Y'); ?></h4>
                            <hr style="border-color:<?php echo $sidebar_country_category_sidebar; ?>;" />
                            <?php the_excerpt(); ?>
                        <a href="<?php the_permalink(); ?>" class="post-read-more">Read More</a>
                          </div>
                        </div>
                    
//from home loop
                  <div class="post-card">
                    <?php
                      $category_color = '#f7d2d4';
                      $cur_categories = get_the_terms(get_the_ID(), 'category');
                      $cur_category = $cur_categories[0];
                      $acf_cat_id = 'category_' . $cur_category->term_id;
    
                  if(get_field('category_color', $acf_cat_id)){
                      $category_color = get_field('category_color', $acf_cat_id);
                    }
  
                    $featured_image_url = wp_get_attachment_url(get_post_thumbnail_id());
                  ?>
                <h3 class="post-card-category" style="background-color:<?php echo $category_color; ?>;"><?php echo $cur_category->name; ?></h3>
                    <div class="post-card-thumb">
                      <img src="<?php echo $featured_image_url; ?>" class="img-responsive center-block" alt="" />
                      <h2 class="post-card-thumb-caption">
                        <span class="summary-card-title-part" style="color:#fff;"><?php the_field('post_pre_title'); ?></span>
                        <span class="summary-card-title-main" style="color:#fff;"><?php the_field('post_main_title'); ?></span>
                        <span class="summary-card-title-part" style="color:#fff;"><?php the_field('post_sub_title'); ?></span>
                      </h2>
                      <div class="post-caption-overlay"></div>
                    </div>
                    <div class="post-card-content">
                      <h4 class="post-date"><?php echo get_the_date('M\. j, Y'); ?></h4>
                      <hr style="border-color:<?php echo $category_color; ?>;" />
                      <?php the_excerpt(); ?>
                  <a href="<?php the_permalink(); ?>" class="post-read-more">Read More</a>
                    </div>
                  </div>
              